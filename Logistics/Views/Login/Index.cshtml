@model Logistics.Entities.Access.SystemUser

@{
    ViewBag.Icon = "pe-7s-unlock";
    ViewBag.Title = "Login";
    ViewBag.Message = "Please enter your credentials to login.";
}

@section CustomJs{
    <script type="text/javascript">
        $(document).on("click", "#btn-login", function (e) {
            var $form = $("#frmLogin");
            $form.validator();
            $form.validator("validate");

            var isValid = isFormValid("#frmLogin");
            if (!isValid) {
                e.preventDefault();
                return false;
            }
        });
    </script>
}

<div class="view-header">
    <div class="header-icon">
        <i class="pe page-header-icon pe-7s-unlock"></i>
    </div>
    <div class="header-title">
        <h3>Login</h3>
        <small>
            Please enter your credentials to login.
        </small>
    </div>
</div>

<div class="panel panel-filled">
    <div class="panel-body">
        @Html.ValidationSummary(true, "Login failed! Check your credentials.", new { @class = "text-danger" })

        @using (Html.BeginForm("Index", "Login", FormMethod.Post, new { @id = "frmLogin" }))
        {
            <div class="form-group">
                <label class="control-label" for="UserName">Username</label>
                @Html.TextBoxFor(model => model.UserName, new { @class = "form-control", required = "required", autofocus = "autofocus" })
                @Html.ValidationMessage("UserName", "*", new { @class = "hidden" })
                <span class="help-block small">Your unique username to app</span>
            </div>
            <div class="form-group">
                <label class="control-label" for="PasswordHash">Password</label>
                @Html.PasswordFor(u => u.PasswordHash, new { @class = "form-control", required = "required" })
                @Html.ValidationMessage("PasswordHash", "*", new { @class = "hidden" })
                <span class="help-block small">Your strong password</span>
            </div>
            <div>
                <button id="btn-login" class="btn btn-accent">Login</button>
            </div>
        }
    </div>
</div>
